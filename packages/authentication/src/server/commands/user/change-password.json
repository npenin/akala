{
    "$schema": "https://raw.githubusercontent.com/npenin/akala/main/packages/commands/command-schema.json",
    "": {
        "inject": [
            "param.0",
            "param.1"
        ]
    },
    "bindings": {
        "user": {
            "source": "data.auth.User",
            "where": {
                "id": "body.username"
            }
        }
    },
    "http": {
        "inject": [
            "bindings.user",
            "body.password"
        ],
        "type": "json",
        "auth": {
            "mode": "body",
            "inject": [
                "body.username",
                "body.oldPassword"
            ]
        },
        "route": "/update-password",
        "method": "post"
    },
    "html": {
        "inject": [
            "form.username",
            "form.password",
            "form.oldPassword"
        ]
    }
}
