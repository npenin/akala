menu {
    margin: 0;
    padding: 0;
    border: 1px solid var(--separator-color);
    border-radius: var(--border-radius);
    width: fit-content;
    --shadow-color: rgb(from var(--control-accent-color) r g b / 0.15);
    --shadow: 0 .188rem .75rem 0 var(--shadow-color);
    box-shadow: var(--shadow);

    >li {
        background-color: var(--control-background-color);

        --standard-item-text-color: var(--control-text-color);
        --item-border-radius: 0;

        padding: var(--gutter-y) calc(var(--gutter-x)*2);

        &:first-child {
            border-top-right-radius: inherit;
            border-top-left-radius: inherit;

            &>a:only-child {
                border-top-right-radius: inherit;
                border-top-left-radius: inherit;
            }

        }

        &:last-child {
            border-bottom-right-radius: inherit;
            border-bottom-left-radius: inherit;

            &>a:only-child {
                border-bottom-right-radius: inherit;
                border-bottom-left-radius: inherit;
            }
        }

        &:has(>a:only-child) {
            --standard-item-background-color: var(--control-background-color);

            @media screen and (prefers-color-scheme:light) {
                --hover-background-color: hsl(from var(--control-accent-color) h s calc(50 - ((round(down, round(up, (l - 50) / 50) + 1 / 2) - 0.5) * 2) * 45));
            }

            @media screen and (prefers-color-scheme:dark) {
                --hover-background-color: var(--control-accent-color);

            }

            --hover-text-color: hsl(from var(--hover-background-color) h s calc(50 - ((round(down, round(up, (l - 50) / 50) + 1 / 2) - 0.5) * 2) * 50));
            padding: 0;
        }

        >a:only-child {
            padding: var(--gutter-y) calc(var(--gutter-x)*2);
            text-decoration: none;
            width: 100%;
            height: 100%;
            --standard-item-text-color: var(--control-text-color);

            &>i:first-child {
                width: 20px;
            }
        }

        &>hr:only-child {
            margin-left: -1em;
            margin-right: -1em;
        }

        &.disabled,
        &:disabled,
        &.disabled>a,
        &:disabled>a {
            cursor: not-allowed;
        }
    }
}