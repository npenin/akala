{"version":3,"sources":["webpack://@akala/json-rpc-ws/webpack/universalModuleDefinition","webpack://@akala/json-rpc-ws/../node_modules/debug/node_modules/ms/index.js","webpack://@akala/json-rpc-ws/../node_modules/debug/src/browser.js","webpack://@akala/json-rpc-ws/../node_modules/debug/src/common.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/rng.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/regex.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/validate.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/stringify.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/v1.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/parse.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/v35.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/md5.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/v3.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/v4.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/sha1.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/v5.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/nil.js","webpack://@akala/json-rpc-ws/../node_modules/uuid/dist/esm-browser/version.js","webpack://@akala/json-rpc-ws/./lib/base.js","webpack://@akala/json-rpc-ws/./lib/browser.js","webpack://@akala/json-rpc-ws/./lib/errors.js","webpack://@akala/json-rpc-ws/./lib/shared-client.js","webpack://@akala/json-rpc-ws/./lib/shared-connection.js","webpack://@akala/json-rpc-ws/./lib/ws/browser.js","webpack://@akala/json-rpc-ws/./lib/ws/shared-client.js","webpack://@akala/json-rpc-ws/webpack/bootstrap","webpack://@akala/json-rpc-ws/webpack/runtime/define property getters","webpack://@akala/json-rpc-ws/webpack/runtime/hasOwnProperty shorthand","webpack://@akala/json-rpc-ws/webpack/runtime/make namespace object","webpack://@akala/json-rpc-ws/webpack/startup"],"names":["root","factory","exports","module","define","amd","this","s","m","h","d","plural","ms","msAbs","n","name","isPlural","Math","round","val","options","type","length","str","String","match","exec","parseFloat","toLowerCase","parse","isFinite","long","abs","fmtShort","Error","JSON","stringify","formatArgs","args","useColors","namespace","humanize","diff","c","color","splice","index","lastC","replace","save","namespaces","storage","setItem","removeItem","error","load","r","getItem","process","env","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","console","firebug","exception","table","parseInt","RegExp","$1","localStorage","localstorage","destroy","warned","warn","colors","log","debug","formatters","j","v","message","createDebug","prevTime","enableOverride","enabled","self","curr","Number","Date","prev","coerce","unshift","format","formatter","call","apply","selectColor","extend","Object","defineProperty","enumerable","configurable","get","set","init","delimiter","newDebug","toNamespace","regexp","toString","substring","default","stack","disable","names","map","skips","join","enable","i","split","len","push","substr","test","keys","forEach","key","hash","charCodeAt","getRandomValues","rnds8","Uint8Array","rng","crypto","bind","msCrypto","uuid","byteToHex","arr","offset","arguments","undefined","TypeError","_nodeId","_clockseq","_lastMSecs","_lastNSecs","buf","b","Array","node","clockseq","seedBytes","random","msecs","now","nsecs","dt","tl","tmh","slice","version","hashfunc","generateUUID","value","unescape","encodeURIComponent","bytes","stringToBytes","err","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","a","t","num","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","output","length32","hexTab","hex","charAt","md5ToHexEncodedArray","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","rnds","f","z","ROTL","K","H","isArray","prototype","l","N","ceil","M","_i","pow","floor","_i2","W","_t","e","_t2","T","__importDefault","mod","__esModule","Base","debug_1","uuid_1","logger","constructor","id","v4","browser","requestHandlers","connections","expose","method","handler","connected","socket","connection","disconnected","hasHandler","getHandler","getConnection","hangup","close","__createBinding","create","o","k","k2","__setModuleDefault","__importStar","result","hasOwnProperty","Connection","Deferred","BaseConnection","Errors","Client","ws","shared_connection_js_1","shared_client_js_1","errors_js_1","DefaultReader","stream","closed","emitError","next","reject","chunks","totalLength","reduce","chunk","byteLength","byteOffset","resolve","done","buffer","start","cancel","reason","then","Promise","read","finally","releaseLock","reader","Readable","_reader","target","_reason","abort","getReader","locked","pipeThrough","writable","readable","pipeTo","dest","writer","getWriter","shift","write","preventClose","tee","parent","super","open","sendRaw","event","isBuffer","data","isStream","buildStream","src","getOwnPropertyNames","p","getOwnPropertyDescriptor","prop","responseHandlers","from","parseError","code","invalidRequest","methodNotFound","invalidParams","internalError","serverError","errors","payload","base_js_1","socketConstructor","connect","address","callback","isConnected","opened","once","ids","disconnect","send","params","sendMethod","_resolve","_reject","promise","_value","onfulfilled","onrejected","catch","onfinally","Symbol","toStringTag","jsonParse","emptyCallback","on","jsonrpc","processPayload","sendError","info","handlerCallback","reply","sendResult","responseHandler","response","cleanResult","sendStream","request","createClient","WebSocketAdapter","browser_js_1","readyState","WebSocket","OPEN","addEventListener","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","obj"],"mappings":"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","file":"browser.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@akala/json-rpc-ws\"] = factory();\n\telse\n\t\troot[\"@akala/json-rpc-ws\"] = factory();\n})(this, function() {\nreturn ","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => enableOverride === null ? createDebug.enabled(namespace) : enableOverride,\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n    // find the complete implementation of crypto (msCrypto) on IE11.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  var uuid = (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase(); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import rng from './rng.js';\nimport stringify from './stringify.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || new Array(16);\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || stringify(b);\n}\n\nexport default v1;","import validate from './validate.js';\n\nfunction parse(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  var v;\n  var arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nexport default parse;","import stringify from './stringify.js';\nimport parse from './parse.js';\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = parse(namespace);\n    }\n\n    if (namespace.length !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    var bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (var i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return stringify(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport stringify from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return stringify(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;","export default '00000000-0000-0000-0000-000000000000';","import validate from './validate.js';\n\nfunction version(uuid) {\n  if (!validate(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.substr(14, 1), 16);\n}\n\nexport default version;","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Base = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst uuid_1 = require(\"uuid\");\nconst logger = debug_1.default('json-rpc-ws');\n/**\n * Base functionality shared by client and server\n *\n * @constructor\n * @public\n */\nclass Base {\n    constructor(type) {\n        this.type = type;\n        this.id = uuid_1.v4();\n        this.browser = false;\n        this.requestHandlers = {};\n        this.connections = {};\n    }\n    /**\n     * Add a handler function for a given method\n     *\n     * @param {String} method - name of the method to add handler for.\n     * @param {function} handler - function to be passed params for given method.\n     * @todo enforce handler w/ two-param callback\n     * @public\n     */\n    expose(method, handler) {\n        logger('registering handler for %s', method);\n        if (this.requestHandlers[method]) {\n            throw Error('cannot expose handler, already exists ' + method);\n        }\n        this.requestHandlers[method] = handler;\n    }\n    /**\n     * Connected event handler\n     *\n     * @param {Object} socket - new socket connection\n     * @private\n     */\n    connected(socket) {\n        const connection = this.connection(socket);\n        logger('%s connected with id %s', this.type, connection.id);\n        this.connections[connection.id] = connection;\n    }\n    ;\n    /**\n     * Disconnected event handler\n     *\n     * @param {Object} connection - connection object that has been closed\n     * @private\n     */\n    disconnected(connection) {\n        logger('disconnected');\n        delete this.connections[connection.id];\n    }\n    /**\n     * Test if a handler exists for a given method\n     *\n     * @param {String} method - name of method\n     * @returns {Boolean} whether or not there are any handlers for the given method\n     * @public\n     */\n    hasHandler(method) {\n        if (this.requestHandlers[method] !== undefined) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * Get handler for a given method\n     *\n     * @param {String} method - name of method\n     * @returns {Array}  - handler for given method\n     * @public\n     */\n    getHandler(method) {\n        return this.requestHandlers[method];\n    }\n    /**\n     * Get a connection by id\n     *\n     * @param {id} id - id of the connection to get\n     * @returns {Connection} - Connection\n     * @public\n     */\n    getConnection(id) {\n        return this.connections[id];\n    }\n    /**\n     * Shut down all existing connections\n     *\n     * @public\n     */\n    hangup() {\n        logger('hangup');\n        const connections = Object.keys(this.connections);\n        connections.forEach(function hangupConnection(id) {\n            this.connections[id].close();\n            delete this.connections[id];\n        }, this);\n    }\n}\nexports.Base = Base;\n//# sourceMappingURL=base.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Connection = exports.Deferred = exports.BaseConnection = exports.Errors = exports.Client = exports.ws = void 0;\nconst shared_connection_js_1 = require(\"./shared-connection.js\");\nObject.defineProperty(exports, \"BaseConnection\", { enumerable: true, get: function () { return shared_connection_js_1.Connection; } });\nObject.defineProperty(exports, \"Deferred\", { enumerable: true, get: function () { return shared_connection_js_1.Deferred; } });\nconst shared_client_js_1 = __importDefault(require(\"./shared-client.js\"));\nObject.defineProperty(exports, \"Client\", { enumerable: true, get: function () { return shared_client_js_1.default; } });\nconst errors_js_1 = __importDefault(require(\"./errors.js\"));\nObject.defineProperty(exports, \"Errors\", { enumerable: true, get: function () { return errors_js_1.default; } });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\nconst ws = __importStar(require(\"./ws/browser.js\"));\nexports.ws = ws;\n// class ByobReader implements ReadableStreamBYOBReader\n// {\n//   reader: DefaultReader;\n//   constructor(private stream: Readable)\n//   {\n//     this.reader = new DefaultReader(stream);\n//     this.reader.releaseLock();\n//   }\n//   public emitError(error: any)\n//   {\n//     this.reader.emitError(error);\n//   }\n//   get closed(): Promise<void>\n//   {\n//     return this.reader.closed;\n//   }\n//   cancel(reason?: any): Promise<void>\n//   {\n//     return this.reader.cancel(reason);\n//   }\n//   public push(...chunks: (Uint8Array | null)[])\n//   {\n//     this.reader.push(...chunks);\n//   }\n//   read<T extends ArrayBufferView>(view: T): Promise<ReadableStreamDefaultReadResult<T>>\n//   {\n//     return this.reader.read().then(v =>\n//     {\n//       if (!v.done)\n//       {\n//         view.byteOffset = v.value.byteOffset;\n//         view.byteLength = v.value.byteLength;\n//         view.buffer = v.value.buffer;\n//       }\n//       return { done: v.done, value: view };\n//     })\n//   }\n//   releaseLock(): void\n//   {\n//     if (this.stream.reader === this)\n//       this.stream.reader = undefined;\n//   }\n// }\nclass DefaultReader {\n    constructor(stream) {\n        this.stream = stream;\n        this.closed = new shared_connection_js_1.Deferred();\n    }\n    emitError(error) {\n        if (!this.next)\n            this.next = new shared_connection_js_1.Deferred();\n        this.next.reject(error);\n        return this.next;\n    }\n    push(...chunks) {\n        if (chunks.length == 0)\n            return;\n        const totalLength = chunks.reduce((l, chunk) => l + (chunk === null ? 0 : chunk.byteLength - chunk.byteOffset), 0);\n        if (totalLength === 0) {\n            if (!this.next)\n                this.next = new shared_connection_js_1.Deferred();\n            return this.next.resolve({ done: true });\n        }\n        const buffer = new Uint8Array(totalLength);\n        let start = 0;\n        let chunk = undefined;\n        for (chunk of chunks) {\n            if (chunk === null)\n                break;\n            for (let i = chunk.byteOffset; i < chunk.byteLength; i++) {\n                buffer[start++] = chunk[i];\n            }\n        }\n        if (!this.next)\n            this.next = new shared_connection_js_1.Deferred();\n        this.next.resolve({ value: buffer, done: false });\n        if (chunk === null) {\n            this.next = new shared_connection_js_1.Deferred();\n            this.next.resolve({ done: true });\n            this.closed.resolve();\n        }\n    }\n    cancel(reason) {\n        if (this.next)\n            return this.next.then(() => Promise.reject(reason));\n        else\n            return Promise.reject(reason);\n    }\n    read() {\n        if (!this.next)\n            this.next = new shared_connection_js_1.Deferred();\n        this.next.finally(() => this.next = undefined);\n        return this.next;\n    }\n    releaseLock() {\n        if (this.stream.reader === this)\n            this.stream.reader = undefined;\n    }\n}\nclass Readable {\n    constructor() {\n        this.buffer = [];\n    }\n    get reader() {\n        return this._reader;\n    }\n    set reader(reader) {\n        this._reader = reader;\n        if (reader && this.buffer.length) {\n            reader.push(...this.buffer);\n        }\n    }\n    get locked() {\n        return !!this.reader && !this.target;\n    }\n    cancel(_reason) {\n        if (this.reader)\n            return this.reader.cancel(_reason);\n        if (this.target)\n            return this.target.abort(_reason);\n        return Promise.resolve();\n    }\n    emitError(error) {\n        if (this.reader)\n            return this.reader.emitError(error);\n        if (this.target)\n            return this.target.abort(error);\n    }\n    push(chunk) {\n        if (!this.reader)\n            this.buffer.push(chunk);\n        else\n            this.reader.push(chunk);\n    }\n    getReader() {\n        if (this.locked)\n            throw new Error('stream is already locked');\n        // if (options && options.mode === 'byob')\n        // {\n        //   return this.reader = new ByobReader(this);\n        // }\n        return this.reader = new DefaultReader(this);\n    }\n    pipeThrough({ writable, readable }, options) {\n        this.pipeTo(writable, options);\n        return readable;\n    }\n    async pipeTo(dest, options) {\n        this.target = dest;\n        const writer = dest.getWriter();\n        let chunk;\n        while (typeof (chunk = this.buffer.shift()) != 'undefined') {\n            if (chunk)\n                await writer.write(chunk);\n            if (chunk === null && options && options.preventClose)\n                await writer.close();\n        }\n    }\n    tee() {\n        throw new Error(\"Method not implemented.\");\n    }\n}\nclass Connection extends shared_connection_js_1.Connection {\n    constructor(socket, parent) {\n        super(socket, parent);\n    }\n    async sendStream(id, result) {\n        const reader = result.getReader();\n        const chunk = await reader.read();\n        if (!chunk.done && this.socket.open)\n            this.sendRaw({ id: id, result: { event: 'data', isBuffer: true, data: { type: 'Buffer', data: chunk.value } } });\n        else if (this.socket.open)\n            this.sendRaw({ id: id, result: { event: 'end' }, stream: false });\n        else\n            logger('socket was closed before end of stream');\n    }\n    isStream(result) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return typeof (result) != 'undefined' && !!result && typeof (result.getReader) == 'function';\n    }\n    buildStream(id, result) {\n        const s = new Readable();\n        const src = result;\n        Object.getOwnPropertyNames(src).forEach(function (p) {\n            if (Object.getOwnPropertyDescriptor(result, p) == null) {\n                const prop = Object.getOwnPropertyDescriptor(src, p);\n                if (prop)\n                    Object.defineProperty(result, p, prop);\n            }\n        });\n        const f = this.responseHandlers[id] = (error, result) => {\n            if (error)\n                s.emitError(error);\n            else\n                switch (result.event) {\n                    case 'data':\n                        if (result.data)\n                            s.push(Uint8Array.from(result.data.data));\n                        this.responseHandlers[id] = f;\n                        break;\n                    case 'end':\n                        s.push(null);\n                        break;\n                }\n        };\n        return s;\n    }\n}\nexports.Connection = Connection;\n//# sourceMappingURL=browser.js.map","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Errors = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\n/*\n * http://www.jsonrpc.org/specification#error_object\n */\nclass Errors {\n    constructor() {\n        this.parseError = { code: -32700, message: 'Parse error' };\n        this.invalidRequest = { code: -32600, message: 'Invalid Request' };\n        this.methodNotFound = { code: -32601, message: 'Method not found' };\n        this.invalidParams = { code: -32602, message: 'Invalid params' };\n        this.internalError = { code: -32603, message: 'Internal error' };\n        this.serverError = { code: -32000, message: 'Server error' };\n    }\n}\nexports.Errors = Errors;\nconst errors = new Errors();\n/**\n * Returns a valid jsonrpc2.0 error reply\n *\n * @param {String} type - type of error\n * @param {Number|String|null} id - optional id for reply message\n * @param {Any} data - optional data attribute for error message\n * @returns {Object|null} mreply object that can be sent back\n */\nfunction getError(type, id, data) {\n    if (errors[type])\n        throw new Error('Invalid error type ' + type);\n    const payload = {\n        error: errors[type],\n    };\n    if (typeof id === 'string' || typeof id === 'number') {\n        payload.id = id;\n    }\n    if (typeof data !== 'undefined') {\n        payload.error.data = data;\n    }\n    logger('error %j', payload);\n    return payload;\n}\nexports.default = getError;\n//# sourceMappingURL=errors.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst base_js_1 = require(\"./base.js\");\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\nclass Client extends base_js_1.Base {\n    constructor(socketConstructor) {\n        super('client');\n        this.socketConstructor = socketConstructor;\n        logger('new Client');\n    }\n    /**\n     * Connect to a json-rpc-ws server\n     *\n     * @param {String} address - url to connect to i.e. `ws://foo.com/`.\n     * @param {function} callback - optional callback to call once socket is connected\n     * @public\n     */\n    connect(address, callback) {\n        logger('Client connect %s', address);\n        if (!this.isConnected())\n            throw new Error('Already connected');\n        let opened = false;\n        const socket = this.socket = this.socketConstructor(address);\n        socket.once('open', () => {\n            // The client connected handler runs scoped as the socket so we can pass\n            // it into our connected method like thisk\n            this.connected(socket);\n            opened = true;\n            if (callback)\n                callback.call(this);\n        });\n        if (callback)\n            this.socket.once('error', function socketError(err) {\n                if (!opened) {\n                    callback.call(self, err);\n                }\n            });\n    }\n    /**\n     * Test whether we have a connection or not\n     *\n     * @returns {Boolean} whether or not we have a connection\n     * @public\n     */\n    isConnected() {\n        return Object.keys(this.connections).length !== 0;\n    }\n    /**\n     * Return the current connection (there can be only one)\n     *\n     * @returns {Object} current connection\n     * @public\n     */\n    getConnection() {\n        const ids = Object.keys(this.connections);\n        return this.connections[ids[0]];\n    }\n    /**\n     * Close the current connection\n     */\n    disconnect() {\n        if (this.isConnected())\n            throw new Error('Not connected');\n        const connection = this.getConnection();\n        return connection.hangup();\n    }\n    /**\n     * Send a method request\n     *\n     * @param {String} method - name of method\n     * @param {Array} params - optional parameters for method\n     * @param {function} callback - optional reply handler\n     * @public\n     * @todo allow for empty params aka arguments.length === 2\n     */\n    send(method, params, callback) {\n        logger('send %s', method);\n        if (!this.isConnected())\n            throw new Error('Not connected');\n        const connection = this.getConnection();\n        connection.sendMethod(method, params, callback);\n    }\n}\nexports.default = Client;\n//# sourceMappingURL=shared-client.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Connection = exports.Deferred = void 0;\nconst uuid_1 = require(\"uuid\");\nconst debug_1 = __importDefault(require(\"debug\"));\nconst errors_js_1 = __importDefault(require(\"./errors.js\"));\nconst logger = debug_1.default('json-rpc-ws');\nclass Deferred {\n    constructor() {\n        let _resolve;\n        let _reject;\n        this.promise = new Promise((resolve, reject) => {\n            _resolve = resolve;\n            _reject = reject;\n        });\n        this._resolve = _resolve;\n        this._reject = _reject;\n    }\n    resolve(_value) {\n        if (typeof (this._resolve) == 'undefined')\n            throw new Error('Not Implemented');\n        this._resolve(_value);\n    }\n    reject(_reason) {\n        if (typeof (this._reject) == 'undefined')\n            throw new Error('Not Implemented');\n        this._reject(_reason);\n    }\n    then(onfulfilled, onrejected) {\n        return this.promise.then(onfulfilled, onrejected);\n    }\n    catch(onrejected) {\n        return this.promise.catch(onrejected);\n    }\n    finally(onfinally) {\n        return this.promise.finally(onfinally);\n    }\n    get [Symbol.toStringTag]() {\n        return this.promise[Symbol.toStringTag];\n    }\n}\nexports.Deferred = Deferred;\n/**\n * Quarantined JSON.parse try/catch block in its own function\n *\n * @param {String} data - json data to be parsed\n * @returns {Object} Parsed json data\n */\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst jsonParse = function jsonParse(data) {\n    let payload;\n    try {\n        payload = JSON.parse(data);\n    }\n    catch (error) {\n        logger(error);\n        payload = null;\n    }\n    return payload;\n};\n/**\n * JSON spec requires a reply for every request, but our lib doesn't require a\n * callback for every sendMethod. We need a dummy callback to throw into responseHandlers\n * for when the user doesn't supply callback to sendMethod\n */\nconst emptyCallback = function emptyCallback() {\n    logger('emptycallback');\n};\n/**\n * json-rpc-ws connection\n *\n * @constructor\n * @param {SocketAdapter} socket - socket adapter for this connection\n * @param {Object} parent - parent that controls this connection\n */\nclass Connection {\n    /**\n     *\n     */\n    constructor(socket, parent) {\n        this.socket = socket;\n        this.parent = parent;\n        this.id = uuid_1.v4();\n        this.responseHandlers = {};\n        if (!this.socket.send)\n            throw new Error('socket.send is not defined');\n        logger('new Connection to %s', parent.type);\n        socket.on('message', this.message.bind(this));\n        // this.on('message', this.message.bind(this));\n        this.once('close', this.close.bind(this));\n        this.once('error', this.close.bind(this));\n        // if (isBrowserSocket(parent, socket))\n        // {\n        //     socket.addEventListener('close', socketClosed.bind(this), { once: true });\n        //     socket.addEventListener('error', socketError.bind(this), { once: true });\n        // }\n        // else\n        // {\n        //     socket.once('close', this.close.bind(this));\n        //     socket.once('error', this.close.bind(this));\n        // }\n    }\n    on(event, handler) {\n        this.socket.on(event, handler);\n    }\n    once(event, handler) {\n        this.socket.once(event, handler);\n    }\n    /**\n     * Send json payload to the socket connection\n     *\n     * @param {Object} payload - data to be stringified\n     * @private\n     * @todo validate payload\n     * @todo make sure this.connection exists, is connected\n     * @todo if we're not connected look up the response handler from payload.id\n     */\n    sendRaw(payload) {\n        payload.jsonrpc = '2.0';\n        this.socket.send(JSON.stringify(payload));\n    }\n    /**\n     * Validate payload as valid jsonrpc 2.0\n     * http://www.jsonrpc.org/specification\n     * Reply or delegate as needed\n     *\n     * @param {Object} payload - payload coming in to be validated\n     * @returns {void}\n     */\n    processPayload(payload) {\n        const version = payload.jsonrpc;\n        const id = payload.id;\n        const method = payload.method;\n        let params = payload.params;\n        let result = payload.result;\n        const error = payload.error;\n        if (version !== '2.0') {\n            return this.sendError('invalidRequest', id, { info: 'jsonrpc must be exactly \"2.0\"' });\n        }\n        //Will either have a method (request), or result or error (response)\n        if (typeof method === 'string') {\n            const handler = this.parent.getHandler(method);\n            if (!handler) {\n                return this.sendError('methodNotFound', id, { info: 'no handler found for method ' + method });\n            }\n            if (id !== undefined && id !== null && typeof id !== 'string' && typeof id !== 'number') {\n                return this.sendError('invalidRequest', id, { info: 'id, if provided, must be one of: null, string, number' });\n            }\n            if (params !== undefined && params !== null && typeof params !== 'object') {\n                return this.sendError('invalidRequest', id, { info: 'params, if provided, must be one of: null, object, array' });\n            }\n            logger('message method %s', payload.method);\n            if (id === null || typeof id === 'undefined') {\n                return handler.call(this, params, emptyCallback);\n            }\n            const handlerCallback = function handlerCallback(err, reply) {\n                logger('handler got callback %j, %j', err, reply);\n                if (typeof this.socket != 'undefined')\n                    this.sendResult(id, err, reply);\n                else\n                    console.error('no socket to reply to');\n            };\n            if (payload.stream)\n                params = this.buildStream(id, params);\n            return handler.call(this, params, handlerCallback.bind(this));\n        }\n        // needs a result or error at this point\n        if (result === undefined && error === undefined) {\n            return this.sendError('invalidRequest', id, { info: 'replies must have either a result or error' });\n        }\n        if (typeof id === 'string' || typeof id === 'number') {\n            logger('message id %s result %j error %j', id, result, error);\n            const responseHandler = this.responseHandlers[id];\n            if (!responseHandler) {\n                return this.sendError('invalidRequest', id, { info: 'no response handler for id ' + id });\n            }\n            delete this.responseHandlers[id];\n            if (payload.stream) {\n                result = this.buildStream(id, result);\n            }\n            return responseHandler.call(this, error, result);\n        }\n    }\n    /**\n     * Send a result message\n     *\n     * @param {String} id - id for the message\n     * @param {Object} error - error for the message\n     * @param {String|Object|Array|Number} result - result for the message\n     * @public\n     *\n     */\n    sendResult(id, error, result, isStream) {\n        logger('sendResult %s %s %j %j', id, isStream, error, result);\n        // Assert(id, 'Must have an id.');\n        // Assert(error || result, 'Must have an error or a result.');\n        if (error && result)\n            throw new Error('Cannot have both an error and a result');\n        const response = { id: id, stream: !!isStream || this.isStream(result) };\n        if (result) {\n            let cleanResult;\n            if (typeof result == 'object' && !Array.isArray(result)) {\n                cleanResult = {};\n                Object.getOwnPropertyNames(result).forEach(p => {\n                    if (p[0] != '_')\n                        Object.defineProperty(cleanResult, p, Object.getOwnPropertyDescriptor(result, p));\n                });\n            }\n            else\n                cleanResult = result;\n            response.result = cleanResult;\n            if (response.stream) {\n                if (typeof id == 'undefined')\n                    throw new Error('streams are not supported without an id');\n                logger('result is stream');\n                this.sendStream(id, result);\n            }\n        }\n        else {\n            response.error = error;\n        }\n        this.sendRaw(response);\n    }\n    /**\n     * Send a method message\n     *\n     * @param {String} method - method for the message\n     * @param {Array|Object|null} params  - params for the message\n     * @param {function} callback - optional callback for a reply from the message\n     * @public\n     */\n    sendMethod(method, params, callback) {\n        const id = uuid_1.v4();\n        if (typeof method !== 'string' || !method.length)\n            throw new Error('method must be a non-empty string');\n        if (params !== null && params !== undefined && !(params instanceof Object))\n            throw new Error('params, if provided,  must be an array, object or null');\n        logger('sendMethod %s', method, id);\n        if (callback) {\n            this.responseHandlers[id] = callback;\n        }\n        else {\n            this.responseHandlers[id] = emptyCallback;\n        }\n        const request = {\n            id: id,\n            method: method\n        };\n        if (params) {\n            if (this.isStream(params)) {\n                request.stream = true;\n                this.sendStream(id, params);\n            }\n            request.params = params;\n        }\n        this.sendRaw(request);\n    }\n    /**\n     * Send an error message\n     *\n     * @param {Object} error - json-rpc error object (See Connection.errors)\n     * @param {String|Number|null} id - Optional id for reply\n     * @param {Any} data - Optional value for data portion of reply\n     * @public\n     */\n    sendError(error, id, data) {\n        logger('sendError %s', error);\n        //TODO if id matches a responseHandler, we should dump it right?\n        this.sendRaw(errors_js_1.default(error, id, data));\n    }\n    /**\n     * Called when socket gets 'close' event\n     *\n     * @param {ConnectionError} error - optional error object of close wasn't expected\n     * @private\n     */\n    close(error) {\n        logger('close');\n        if (error && error !== 1000) {\n            // debugger;\n            logger('close error %s', error['stack'] || error);\n        }\n        this.parent.disconnected(this); //Tell parent what went on so it can track connections\n        delete this.socket;\n    }\n    /**\n     * Hang up the current socket\n     */\n    hangup() {\n        logger('hangup');\n        if (!this.socket)\n            throw new Error('Not connected');\n        return new Promise((resolve, reject) => {\n            const socket = this.socket;\n            socket.once('error', reject);\n            socket.once('close', resolve);\n            this.socket.close();\n        });\n    }\n    /**\n     * Incoming message handler\n     *\n     * @param {String} data - message from the websocket\n     * @returns {void}\n     * @private\n     */\n    message(data) {\n        //Validate as json first, easy reply if it's not\n        //If it's an array iterate and handle\n        //If it's an object handle\n        //name of handle function ?!?!?\n        logger('message %j', data);\n        let payload;\n        if (typeof (data) !== 'string') {\n            payload = jsonParse(data.data);\n        }\n        else if (typeof (data) == 'string') {\n            payload = jsonParse(data);\n        }\n        if (payload === null) {\n            console.error(data);\n            return errors_js_1.default('parseError');\n        }\n        //Object or array\n        if (payload instanceof Array) {\n            payload.forEach(this.processPayload, this);\n        }\n        else {\n            this.processPayload(payload);\n        }\n    }\n}\nexports.Connection = Connection;\n//# sourceMappingURL=shared-connection.js.map","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.connect = exports.createClient = exports.WebSocketAdapter = void 0;\nconst shared_client_js_1 = __importDefault(require(\"./shared-client.js\"));\nconst browser_js_1 = require(\"../browser.js\");\n/**\n * json-rpc-ws connection\n *\n * @constructor\n * @param {Socket} socket - web socket for this connection\n * @param {Object} parent - parent that controls this connection\n */\nclass WebSocketAdapter {\n    constructor(socket) {\n        this.socket = socket;\n    }\n    get open() {\n        return this.socket.readyState == WebSocket.OPEN;\n    }\n    close() {\n        this.socket.close();\n    }\n    send(data) {\n        this.socket.send(data);\n    }\n    on(event, handler) {\n        this.socket.addEventListener(event, handler);\n    }\n    once(event, handler) {\n        this.socket.addEventListener(event, handler, { once: true });\n    }\n}\nexports.WebSocketAdapter = WebSocketAdapter;\nclass Client extends shared_client_js_1.default {\n    connection(socket) {\n        return new browser_js_1.Connection(socket, this);\n    }\n    constructor() {\n        super(Client.connect);\n    }\n    static connect(address) { return new WebSocketAdapter(new WebSocket(address.replace(/^http/, 'ws'))); }\n}\nexports.default = Client;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\nfunction createClient() {\n    logger('create ws client');\n    return new Client();\n}\nexports.createClient = createClient;\nexports.connect = Client.connect;\n//# sourceMappingURL=browser.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shared_client_js_1 = __importDefault(require(\"../shared-client.js\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\nclass Client extends shared_client_js_1.default {\n    constructor(socketConstructor) {\n        super(socketConstructor);\n        logger('new ws Client');\n    }\n}\nexports.default = Client;\n//# sourceMappingURL=shared-client.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(693);\n"],"sourceRoot":""}